<?xml version="1.0" encoding="UTF-8"?>
<hdevelop file_version="1.2" halcon_version="18.11.0.1">
<procedure name="main">
<interface/>
<body>
<c>* Pin Measurement: Example for the application of the measure package</c>
<c>* including a lot of visualization operators</c>
<c>* </c>
<c></c>
<l>dev_close_window ()</l>
<c>* </c>
<l>read_image (Image1, 'images/1.JPG')</l>
<l>zoom_image_factor(Image1,Image1, 0.25, 0.25, 'bilinear')</l>
<l>dev_open_window_fit_image (Image1, 0, 0, -1, -1, WindowHandle)</l>
<c></c>
<c as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,1]" as_ord="1">* Image Acquisition 01: Code generated by Image Acquisition 01</c>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,2]" as_ord="1">ImageFiles := []</l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,3]" as_ord="1">ImageFiles[0] := 'D:/GITHUB/learningMV/test6/images/2.JPG'</l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,3]" as_ord="2">ImageFiles[1] := 'D:/GITHUB/learningMV/test6/images/3.JPG'</l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,3]" as_ord="3">ImageFiles[2] := 'D:/GITHUB/learningMV/test6/images/4.JPG'</l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[1,3]" as_ord="4">ImageFiles[3] := 'D:/GITHUB/learningMV/test6/images/5.JPG'</l>
<c></c>
<c></c>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[2,2]" as_ord="1">for Index := 0 to 3 by 1</l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[2,3]" as_ord="1">    read_image (Image2, ImageFiles[Index])</l>
<l>    zoom_image_factor(Image2,Image2, 0.25, 0.25, 'bilinear')</l>
<c as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[2,4]" as_ord="1">    * Image Acquisition 01: Do something</c>
<l>    optical_flow_mg (Image1, Image2, VectorField, 'clg', 10, 1, 30, 5, 'default_parameters', 'accurate')</l>
<c>    * Segment the optical flow vector field.</c>
<l>    vector_field_length (VectorField, LengthImage, 'squared_length')</l>
<c>    </c>
<c>    * Display the current image of the sequence.  Note that this means that</c>
<c>    * the optical flow vectors will also be displayed at the "end" of the movement</c>
<c>    * of the objects in the image.</c>
<l>    dev_display (Image2)</l>
<c>    * Display the optical flow.</c>
<l>    dev_set_color ('yellow')</l>
<l>    dev_set_line_width (1)</l>
<l>    dev_display (VectorField)</l>
<c>    </c>
<c></c>
<c>    </c>
<c></c>
<c>    </c>
<c>    </c>
<c>    </c>
<c>    </c>
<l>    threshold (LengthImage, RegionMovement, 1250, 20000)</l>
<l>      dev_set_color ('green')</l>
<l>    dev_set_line_width (1)</l>
<l>    dev_display (RegionMovement)</l>
<c>    </c>
<c>    * Select largest moving region</c>
<c>    </c>
<l>    area_center (RegionMovement, Area, RCenterNew, CCenterNew)</l>
<l>    shape_trans (RegionMovement, ConvexHullregion, 'convex')</l>
<c>    </c>
<l>    reduce_domain (VectorField, ConvexHullregion, VectorReduced)</l>
<l>    vector_field_to_real (VectorReduced, Row, Column)</l>
<c>    * </c>
<c>    * Estimate the movement direction and the speed</c>
<l>    intensity (ConvexHullregion, Row, MeanRow, Deviation)</l>
<l>    intensity (ConvexHullregion, Column, MeanColumn, Deviation1)</l>
<c>    </c>
<l>         intensity (RegionMovement, Row, MeanRow, Deviation)</l>
<l>         intensity (RegionMovement, Column, MeanColumn, Deviation1)</l>
<c></c>
<c>    </c>
<c>    * Display region of moving object in the region of interest</c>
<l>    dev_set_color ('green')</l>
<l>    dev_display (ConvexHullregion)</l>
<l>    gen_arrow_contour_xld (Arrow, RCenterNew, CCenterNew, RCenterNew + MeanRow, CCenterNew + MeanColumn, 10, 10)</l>
<c> </c>
<l>    dev_set_color ('blue')</l>
<l>    dev_display (RegionMovement)</l>
<l>     dev_set_color ('red')</l>
<l>    dev_display (Arrow)</l>
<c>    </c>
<l>    copy_obj (Image2, Image1, 1, 1)      </l>
<l as_id="image_acquisition" as_name="Image Acquisition 01" as_grp="[3,1]" as_ord="1">endfor</l>
<c></c>
<c></c>
</body>
<docu id="main">
<parameters/>
</docu>
</procedure>
</hdevelop>
